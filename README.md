## 단원별 요점 정리


### 프로젝트 환경설정
#### H2 데이터베이스 설치
- 프로젝트 생성할떄, h2 라이브러리 추가하면, 해당 프로젝트의 spring boot 버전과 호환이 잘 되는 h2 버전을 알아서 설치하잖아.
- 프로젝트에서 라이브러리에서 h2 버전으로 어떤게 설치되었는지 확인하고. 내가 로컬에서 설치한 h2 버전이랑 맞는지 확인해. 이 둘의 버전이 안맞으면 호환이 잘 안될 수 있어.
- 처음 h2 접속할때는 로컬에 db파일이 생성이 안되어있기때문에, 처음에는 jdbc:h2:~/datajpa 로 접근하는거야. 이러면 해당 이름으로 로컬에 파일을 생성하면서 파일로 접속을 하게 됨.
- 그 다음부터는 원격으로 jdbc:h2:tcp://localhost/~/datajpa 으로 접속하는거임. 파일로 접근하게 되면 파일에 락이 걸려서 여러곳에서 동시에 접속이 안됨.


#### 스프링 데이터 JPA와 DB 설정, 동작확인
- application.yml 에서 몇가지 설정 옵션
  - show_sql : true - 콘솔창에 sql 나오게 함 (비추)
  - format_sql : true - sql문이 일자로 나오는게 아니라 좀 예쁘게 포맷팅 되어서 출력됨
  - org.hibernate.SQL : debug - sql문이 로그로 출력되게함. 이걸 권장.
  - org.hibernate.type : true - sql문에 파라미터에 뭐가 들어갔는지 보여주는 옵션. 근데 좀 보여주는게 답답함
  - 그래서 외부라이브러리인 p6spy를 implementation에 넣어서 사용. 이런 외부라이브러리 땡겨오는건 성능을 살짝 깎아먹을 수도.
- 같은 트랜잭션 안에서는 영속성 컨텍스트의 동일성을 보장한다 = 같은 인스턴스임을 보장한다 = savedMember랑 그 안에서 findMember랑 == 비교 하면 true

### 예제 도메인 모델
#### 예제 도메인 모델과 동작확인

### 공통 인터페이스 기능
#### 순수 JPA 기반 리포지토리 만들기
#### 공통 인터페이스 설정
#### 공통 인터페이스 적용
#### 공통 인터페이스 분석

### 쿼리 메소드 기능
#### 메소드 이름으로 쿼리 생성
#### JPA NamedQuery
#### @Query, 리포지토리 메소드에 쿼리 정의하기
#### @Query, 값, DTO 조회하기
#### 파라미터 바인딩
#### 반환 타입
#### 순수 JPA 페이징과 정렬
#### 스프링 데이터 JPA 페이징과 정렬
#### 벌크성 수정 쿼리
#### @EntityGraph
#### JPA Hint & Lock

### 확장 기능
#### 사용자 정의 리포지토리 구현
#### Auditing
#### Web 확장 - 도메인 클래스 컨버터
#### Web 확장 - 페이징과 정렬

### 스프링 데이터 JPA 분석
#### 스프링 데이터 JPA 구현체 분석
#### 새로운 엔티티를 구별하는 방법

### 나머지 기능들
#### Specifications (명세)
#### Query By Example
#### Projections
#### 네이티브 쿼리
